<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Orders Heatmap</title>
	<script type="text/javascript" src="data.js"></script>		
	<style>

		#map {
		  height: 100%;
		}
		/* Optional: Makes the sample page fill the window. */
		html, body {
		  height: 100%;
		  margin: 0;
		  padding: 0;
		}

	</style>
</head>
<body>

	<div id="map"></div>

	<script>
		var map;
		function initMap() {
			var heatmapData = [];

			ordersData.forEach( orderData => {
				heatmapData.push( new google.maps.LatLng(orderData['st_y'], orderData['st_x']) )
			} )

			map = new google.maps.Map(document.getElementById('map'), {
				zoom: 13,
				center: {lat: -1.28333, lng: 36.81667}
			});

			map.data.addGeoJson( zonesJson );

			  
			var heatmap = new google.maps.visualization.HeatmapLayer({
			    data: heatmapData,
			    radius: 40,
			    opacity: 0.7,
			    maxIntensity: 200,
			    dissipating: true
			    // gradient: ['#0000ff', '#ff0000']
			  });
			heatmap.setMap(map);  
		}		
	</script>

	<script async defer type="text/javascript"
	  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDNdqht8TYJj-xHc7PZ1Z7HnOIlFcpc9QY&libraries=visualization&callback=initMap">
	</script>	
	
</body>
</html>
